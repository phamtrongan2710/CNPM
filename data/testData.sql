--CLONE DATA


--ACCOUNT
INSERT INTO TB_ACCOUNT(ACC_USERNAME, ACC_PASSWORD) VALUES ('user1', '1');
INSERT INTO TB_ACCOUNT(ACC_USERNAME, ACC_PASSWORD) VALUES ('user2', '1');


--ADMIN
INSERT INTO TB_ADMIN(ACC_USERNAME, ACC_PASSWORD) VALUES ('admin', '1');


--KHACH HANG
INSERT INTO TB_CUSTOMER(CUS_ID, CUS_NAME, CUS_AGE, CUS_USERNAME) VALUES ('1','an','20',NULL);
INSERT INTO TB_CUSTOMER(CUS_ID, CUS_NAME, CUS_AGE, CUS_USERNAME) VALUES ('2','chau','20',NULL);
UPDATE TB_CUSTOMER SET CUS_USERNAME = 'user1' WHERE CUS_NAME = 'an';
UPDATE TB_CUSTOMER SET CUS_USERNAME = 'user2' WHERE CUS_NAME = 'chau';


--SAN PHAM
INSERT INTO TB_PRODUCT 
( 
    PRO_ID,
    PRO_NAME,
    PRO_TYPE,
    PRO_PRICE,
    PRO_DESCRIBE
) VALUES ('a01', 'ao con meo', 'ao', 100, 'made in china');
INSERT INTO TB_PRODUCT 
( 
    PRO_ID,
    PRO_NAME,
    PRO_TYPE,
    PRO_PRICE,
    PRO_DESCRIBE
) VALUES ('a02', 'ao con heo', 'ao', 100, 'made in china');
INSERT INTO TB_PRODUCT 
( 
    PRO_ID,
    PRO_NAME,
    PRO_TYPE,
    PRO_PRICE,
    PRO_DESCRIBE
) VALUES ('q01', 'quan con ga', 'quan', 100, 'made in china');


--GIO HANG
INSERT INTO TB_CART(CART_ID, CART_CUS_ID) VALUES ('c1', NULL);
INSERT INTO TB_CART(CART_ID, CART_CUS_ID) VALUES ('c2', NULL);
UPDATE TB_CART SET CART_CUS_ID = '1' WHERE CART_ID = 'c1';
UPDATE TB_CART SET CART_CUS_ID = '2' WHERE CART_ID = 'c2';

INSERT INTO TB_CART_PRODUCT
(
    CART_ID,
    PRO_ID,
    QUANTITY
)VALUES ('c1','a01',1);
INSERT INTO TB_CART_PRODUCT
(
    CART_ID,
    PRO_ID,
    QUANTITY
)VALUES ('c1','a02',1);
INSERT INTO TB_CART_PRODUCT
(
    CART_ID,
    PRO_ID,
    QUANTITY
)VALUES ('c2','q01',5);


--HOA DON
INSERT INTO TB_INVOICE
( 
    INV_ID, 
    INV_DATE, 
    INV_TOTAL_PRICE, 
    INV_CART_ID
)VALUES ('i1',TO_DATE('2023/05/05', 'yyyy/mm/dd'),NULL,'c1');

UPDATE TB_INVOICE 
SET INV_TOTAL_PRICE = (SELECT SUM(P.PRO_PRICE * CP.QUANTITY) 
                        FROM TB_PRODUCT P, TB_CART_PRODUCT CP
                        WHERE CP.CART_ID = 'c1' AND CP.PRO_ID = P.PRO_ID)
WHERE INV_CART_ID = 'c1';
