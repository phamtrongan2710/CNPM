--USE ORACLE


--TAI KHOAN
CREATE TABLE TB_ACCOUNT 
( 
    ACC_USERNAME VARCHAR(32) PRIMARY KEY, 
    ACC_PASSWORD VARCHAR(32) 
);


--KHACH HANG
CREATE TABLE TB_CUSTOMER 
( 
    CUS_ID VARCHAR(10) PRIMARY KEY, 
    CUS_NAME NVARCHAR2(128), 
    CUS_AGE INTEGER,  
    CUS_USERNAME VARCHAR(32),
    CONSTRAINT FK_CUS_USERNAME FOREIGN KEY(CUS_USERNAME) REFERENCES TB_ACCOUNT(ACC_USERNAME)
);


--ADMIN
CREATE TABLE TB_ADMIN(
    ACC_USERNAME VARCHAR(32) PRIMARY KEY, 
    ACC_PASSWORD VARCHAR(32)
);


--SAN PHAM 
CREATE TABLE TB_PRODUCT 
( 
    PRO_ID VARCHAR(10) PRIMARY KEY, 
    PRO_NAME NVARCHAR2(128), 
    PRO_TYPE NVARCHAR2(128),
    PRO_PRICE INTEGER, 
    PRO_DESCRIBE NVARCHAR2(1024)
);


--GIO HANG
CREATE TABLE TB_CART 
( 
    CART_ID VARCHAR(10) PRIMARY KEY,
    CART_CUS_ID VARCHAR(10),
    CONSTRAINT FK_CART_CUS FOREIGN KEY(CART_CUS_ID) REFERENCES TB_CUSTOMER(CUS_ID)
);


CREATE TABLE TB_CART_PRODUCT
(
    CART_ID VARCHAR(10),
    PRO_ID VARCHAR(10),
    QUANTITY INTEGER,
    CONSTRAINT PK_CART_PRODUCT PRIMARY KEY(CART_ID, PRO_ID),
    CONSTRAINT FK_CART_ID FOREIGN KEY(CART_ID) REFERENCES TB_CART(CART_ID),
    CONSTRAINT FK_PRO_ID FOREIGN KEY(PRO_ID) REFERENCES TB_PRODUCT(PRO_ID)
);


--HOA DON
CREATE TABLE TB_INVOICE 
( 
    INV_ID VARCHAR(10) PRIMARY KEY, 
    INV_DATE DATE, 
    INV_TOTAL_PRICE INTEGER, 
    INV_CART_ID VARCHAR(10),
    CONSTRAINT FK_INV_CART_ID FOREIGN KEY(INV_CART_ID) REFERENCES TB_CART(CART_ID)
);
